<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>PacmanåŒ…ç®¡ç† | RookieIO&#39;s Tech Lab</title>
<meta name="keywords" content="">
<meta name="description" content="ğŸ“¦ Arch Linux åŒ…ç®¡ç†å™¨ (Pacman) æƒå¨è¿ç»´æ‰‹å†Œ

  
      
          å±æ€§
          è¯¦ç»†è¯´æ˜
      
  
  
      
          æ ¸å¿ƒç¨‹åº
          pacman
      
      
          é…ç½®æ–‡ä»¶
          /etc/pacman.conf
      
      
          é•œåƒåˆ—è¡¨
          /etc/pacman.d/mirrorlist
      
      
          ç¼“å­˜è·¯å¾„
          /var/cache/pacman/pkg/
      
      
          æ–‡æ¡£ç‰ˆæœ¬
          v3.0 (è¿›é˜¶è¯¦ç»†ç‰ˆ)
      
  


ğŸ›‘ 1. å®‰å…¨çº¢çº¿ (The &ldquo;Do Nots&rdquo;)
åœ¨æ“ä½œå‰ï¼Œè¯·åˆ»åœ¨è„‘å­é‡Œï¼Œå¦åˆ™ææ˜“å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆæ»šæŒ‚ï¼‰ã€‚
âŒ ç¦å¿Œä¸€ï¼šç¦æ­¢éƒ¨åˆ†æ›´æ–° (Partial Upgrades)

é”™è¯¯æ“ä½œ: pacman -Sy firefox (åªåŒæ­¥æ•°æ®åº“ï¼Œç„¶ååªå®‰è£… Firefox)
åæœ: ä½ çš„æ•°æ®åº“æ˜¯æœ€æ–°çš„ï¼Œä½†ç³»ç»Ÿé‡Œçš„æ ¸å¿ƒåº“ï¼ˆå¦‚ glibcï¼‰æ˜¯æ—§çš„ã€‚æ–° Firefox è°ƒç”¨æ–°åº“æ—¶ï¼Œå› ä¸ºæ‰¾ä¸åˆ°è€Œå´©æºƒã€‚
âœ… æ­£ç¡®åšæ³•: æ°¸è¿œåŒæ­¥å¹¶æ›´æ–°æ•´ä¸ªç³»ç»Ÿã€‚

sudo pacman -Syu firefox
âŒ ç¦å¿ŒäºŒï¼šå¼ºåˆ¶å¿½ç•¥ä¾èµ–

é”™è¯¯æ“ä½œ: pacman -Rdd è½¯ä»¶å
åæœ: å¼ºè¡Œåˆ é™¤äº†è¢«å…¶ä»–è½¯ä»¶ä¾èµ–çš„åŒ…ï¼Œå¯¼è‡´å…¶ä»–è½¯ä»¶æ‰“ä¸å¼€ã€‚
âœ… æ­£ç¡®åšæ³•: é™¤éä½ éå¸¸æ¸…æ¥šä½ åœ¨ä¿® bugï¼Œå¦åˆ™åªç”¨ -Rs æˆ– -Rnsã€‚


â¬‡ï¸ 2. å®‰è£…ä¸ç³»ç»Ÿæ›´æ–° (Install &amp; Update)

ä¸»å‚æ•°: -S (Sync)">
<meta name="author" content="">
<link rel="canonical" href="https://blog.luxrime.top/posts/pacman_qperations/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.00b861ce567f308b3d720986b5361bf4f3df0c2c45fa85c2c6c5e7d8cbeff271.css" integrity="sha256-ALhhzlZ/MIs9cgmGtTYb9PPfDCxF&#43;oXCxsXn2Mvv8nE=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.luxrime.top/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.luxrime.top/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.luxrime.top/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.luxrime.top/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.luxrime.top/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://blog.luxrime.top/posts/pacman_qperations/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="https://blog.luxrime.top/posts/pacman_qperations/">
  <meta property="og:site_name" content="RookieIO&#39;s Tech Lab">
  <meta property="og:title" content="PacmanåŒ…ç®¡ç†">
  <meta property="og:description" content="ğŸ“¦ Arch Linux åŒ…ç®¡ç†å™¨ (Pacman) æƒå¨è¿ç»´æ‰‹å†Œ å±æ€§ è¯¦ç»†è¯´æ˜ æ ¸å¿ƒç¨‹åº pacman é…ç½®æ–‡ä»¶ /etc/pacman.conf é•œåƒåˆ—è¡¨ /etc/pacman.d/mirrorlist ç¼“å­˜è·¯å¾„ /var/cache/pacman/pkg/ æ–‡æ¡£ç‰ˆæœ¬ v3.0 (è¿›é˜¶è¯¦ç»†ç‰ˆ) ğŸ›‘ 1. å®‰å…¨çº¢çº¿ (The â€œDo Notsâ€) åœ¨æ“ä½œå‰ï¼Œè¯·åˆ»åœ¨è„‘å­é‡Œï¼Œå¦åˆ™ææ˜“å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆæ»šæŒ‚ï¼‰ã€‚
âŒ ç¦å¿Œä¸€ï¼šç¦æ­¢éƒ¨åˆ†æ›´æ–° (Partial Upgrades) é”™è¯¯æ“ä½œ: pacman -Sy firefox (åªåŒæ­¥æ•°æ®åº“ï¼Œç„¶ååªå®‰è£… Firefox) åæœ: ä½ çš„æ•°æ®åº“æ˜¯æœ€æ–°çš„ï¼Œä½†ç³»ç»Ÿé‡Œçš„æ ¸å¿ƒåº“ï¼ˆå¦‚ glibcï¼‰æ˜¯æ—§çš„ã€‚æ–° Firefox è°ƒç”¨æ–°åº“æ—¶ï¼Œå› ä¸ºæ‰¾ä¸åˆ°è€Œå´©æºƒã€‚ âœ… æ­£ç¡®åšæ³•: æ°¸è¿œåŒæ­¥å¹¶æ›´æ–°æ•´ä¸ªç³»ç»Ÿã€‚ sudo pacman -Syu firefox âŒ ç¦å¿ŒäºŒï¼šå¼ºåˆ¶å¿½ç•¥ä¾èµ– é”™è¯¯æ“ä½œ: pacman -Rdd è½¯ä»¶å åæœ: å¼ºè¡Œåˆ é™¤äº†è¢«å…¶ä»–è½¯ä»¶ä¾èµ–çš„åŒ…ï¼Œå¯¼è‡´å…¶ä»–è½¯ä»¶æ‰“ä¸å¼€ã€‚ âœ… æ­£ç¡®åšæ³•: é™¤éä½ éå¸¸æ¸…æ¥šä½ åœ¨ä¿® bugï¼Œå¦åˆ™åªç”¨ -Rs æˆ– -Rnsã€‚ â¬‡ï¸ 2. å®‰è£…ä¸ç³»ç»Ÿæ›´æ–° (Install &amp; Update) ä¸»å‚æ•°: -S (Sync)">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2026-01-15T11:57:29+08:00">
    <meta property="article:modified_time" content="2026-01-15T11:57:29+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PacmanåŒ…ç®¡ç†">
<meta name="twitter:description" content="ğŸ“¦ Arch Linux åŒ…ç®¡ç†å™¨ (Pacman) æƒå¨è¿ç»´æ‰‹å†Œ

  
      
          å±æ€§
          è¯¦ç»†è¯´æ˜
      
  
  
      
          æ ¸å¿ƒç¨‹åº
          pacman
      
      
          é…ç½®æ–‡ä»¶
          /etc/pacman.conf
      
      
          é•œåƒåˆ—è¡¨
          /etc/pacman.d/mirrorlist
      
      
          ç¼“å­˜è·¯å¾„
          /var/cache/pacman/pkg/
      
      
          æ–‡æ¡£ç‰ˆæœ¬
          v3.0 (è¿›é˜¶è¯¦ç»†ç‰ˆ)
      
  


ğŸ›‘ 1. å®‰å…¨çº¢çº¿ (The &ldquo;Do Nots&rdquo;)
åœ¨æ“ä½œå‰ï¼Œè¯·åˆ»åœ¨è„‘å­é‡Œï¼Œå¦åˆ™ææ˜“å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆæ»šæŒ‚ï¼‰ã€‚
âŒ ç¦å¿Œä¸€ï¼šç¦æ­¢éƒ¨åˆ†æ›´æ–° (Partial Upgrades)

é”™è¯¯æ“ä½œ: pacman -Sy firefox (åªåŒæ­¥æ•°æ®åº“ï¼Œç„¶ååªå®‰è£… Firefox)
åæœ: ä½ çš„æ•°æ®åº“æ˜¯æœ€æ–°çš„ï¼Œä½†ç³»ç»Ÿé‡Œçš„æ ¸å¿ƒåº“ï¼ˆå¦‚ glibcï¼‰æ˜¯æ—§çš„ã€‚æ–° Firefox è°ƒç”¨æ–°åº“æ—¶ï¼Œå› ä¸ºæ‰¾ä¸åˆ°è€Œå´©æºƒã€‚
âœ… æ­£ç¡®åšæ³•: æ°¸è¿œåŒæ­¥å¹¶æ›´æ–°æ•´ä¸ªç³»ç»Ÿã€‚

sudo pacman -Syu firefox
âŒ ç¦å¿ŒäºŒï¼šå¼ºåˆ¶å¿½ç•¥ä¾èµ–

é”™è¯¯æ“ä½œ: pacman -Rdd è½¯ä»¶å
åæœ: å¼ºè¡Œåˆ é™¤äº†è¢«å…¶ä»–è½¯ä»¶ä¾èµ–çš„åŒ…ï¼Œå¯¼è‡´å…¶ä»–è½¯ä»¶æ‰“ä¸å¼€ã€‚
âœ… æ­£ç¡®åšæ³•: é™¤éä½ éå¸¸æ¸…æ¥šä½ åœ¨ä¿® bugï¼Œå¦åˆ™åªç”¨ -Rs æˆ– -Rnsã€‚


â¬‡ï¸ 2. å®‰è£…ä¸ç³»ç»Ÿæ›´æ–° (Install &amp; Update)

ä¸»å‚æ•°: -S (Sync)">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ç¬”è®°",
      "item": "https://blog.luxrime.top/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "PacmanåŒ…ç®¡ç†",
      "item": "https://blog.luxrime.top/posts/pacman_qperations/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "PacmanåŒ…ç®¡ç†",
  "name": "PacmanåŒ…ç®¡ç†",
  "description": "ğŸ“¦ Arch Linux åŒ…ç®¡ç†å™¨ (Pacman) æƒå¨è¿ç»´æ‰‹å†Œ å±æ€§ è¯¦ç»†è¯´æ˜ æ ¸å¿ƒç¨‹åº pacman é…ç½®æ–‡ä»¶ /etc/pacman.conf é•œåƒåˆ—è¡¨ /etc/pacman.d/mirrorlist ç¼“å­˜è·¯å¾„ /var/cache/pacman/pkg/ æ–‡æ¡£ç‰ˆæœ¬ v3.0 (è¿›é˜¶è¯¦ç»†ç‰ˆ) ğŸ›‘ 1. å®‰å…¨çº¢çº¿ (The \u0026ldquo;Do Nots\u0026rdquo;) åœ¨æ“ä½œå‰ï¼Œè¯·åˆ»åœ¨è„‘å­é‡Œï¼Œå¦åˆ™ææ˜“å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆæ»šæŒ‚ï¼‰ã€‚\nâŒ ç¦å¿Œä¸€ï¼šç¦æ­¢éƒ¨åˆ†æ›´æ–° (Partial Upgrades) é”™è¯¯æ“ä½œ: pacman -Sy firefox (åªåŒæ­¥æ•°æ®åº“ï¼Œç„¶ååªå®‰è£… Firefox) åæœ: ä½ çš„æ•°æ®åº“æ˜¯æœ€æ–°çš„ï¼Œä½†ç³»ç»Ÿé‡Œçš„æ ¸å¿ƒåº“ï¼ˆå¦‚ glibcï¼‰æ˜¯æ—§çš„ã€‚æ–° Firefox è°ƒç”¨æ–°åº“æ—¶ï¼Œå› ä¸ºæ‰¾ä¸åˆ°è€Œå´©æºƒã€‚ âœ… æ­£ç¡®åšæ³•: æ°¸è¿œåŒæ­¥å¹¶æ›´æ–°æ•´ä¸ªç³»ç»Ÿã€‚ sudo pacman -Syu firefox âŒ ç¦å¿ŒäºŒï¼šå¼ºåˆ¶å¿½ç•¥ä¾èµ– é”™è¯¯æ“ä½œ: pacman -Rdd è½¯ä»¶å åæœ: å¼ºè¡Œåˆ é™¤äº†è¢«å…¶ä»–è½¯ä»¶ä¾èµ–çš„åŒ…ï¼Œå¯¼è‡´å…¶ä»–è½¯ä»¶æ‰“ä¸å¼€ã€‚ âœ… æ­£ç¡®åšæ³•: é™¤éä½ éå¸¸æ¸…æ¥šä½ åœ¨ä¿® bugï¼Œå¦åˆ™åªç”¨ -Rs æˆ– -Rnsã€‚ â¬‡ï¸ 2. å®‰è£…ä¸ç³»ç»Ÿæ›´æ–° (Install \u0026amp; Update) ä¸»å‚æ•°: -S (Sync)\n",
  "keywords": [
    
  ],
  "articleBody": "ğŸ“¦ Arch Linux åŒ…ç®¡ç†å™¨ (Pacman) æƒå¨è¿ç»´æ‰‹å†Œ å±æ€§ è¯¦ç»†è¯´æ˜ æ ¸å¿ƒç¨‹åº pacman é…ç½®æ–‡ä»¶ /etc/pacman.conf é•œåƒåˆ—è¡¨ /etc/pacman.d/mirrorlist ç¼“å­˜è·¯å¾„ /var/cache/pacman/pkg/ æ–‡æ¡£ç‰ˆæœ¬ v3.0 (è¿›é˜¶è¯¦ç»†ç‰ˆ) ğŸ›‘ 1. å®‰å…¨çº¢çº¿ (The â€œDo Notsâ€) åœ¨æ“ä½œå‰ï¼Œè¯·åˆ»åœ¨è„‘å­é‡Œï¼Œå¦åˆ™ææ˜“å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆæ»šæŒ‚ï¼‰ã€‚\nâŒ ç¦å¿Œä¸€ï¼šç¦æ­¢éƒ¨åˆ†æ›´æ–° (Partial Upgrades) é”™è¯¯æ“ä½œ: pacman -Sy firefox (åªåŒæ­¥æ•°æ®åº“ï¼Œç„¶ååªå®‰è£… Firefox) åæœ: ä½ çš„æ•°æ®åº“æ˜¯æœ€æ–°çš„ï¼Œä½†ç³»ç»Ÿé‡Œçš„æ ¸å¿ƒåº“ï¼ˆå¦‚ glibcï¼‰æ˜¯æ—§çš„ã€‚æ–° Firefox è°ƒç”¨æ–°åº“æ—¶ï¼Œå› ä¸ºæ‰¾ä¸åˆ°è€Œå´©æºƒã€‚ âœ… æ­£ç¡®åšæ³•: æ°¸è¿œåŒæ­¥å¹¶æ›´æ–°æ•´ä¸ªç³»ç»Ÿã€‚ sudo pacman -Syu firefox âŒ ç¦å¿ŒäºŒï¼šå¼ºåˆ¶å¿½ç•¥ä¾èµ– é”™è¯¯æ“ä½œ: pacman -Rdd è½¯ä»¶å åæœ: å¼ºè¡Œåˆ é™¤äº†è¢«å…¶ä»–è½¯ä»¶ä¾èµ–çš„åŒ…ï¼Œå¯¼è‡´å…¶ä»–è½¯ä»¶æ‰“ä¸å¼€ã€‚ âœ… æ­£ç¡®åšæ³•: é™¤éä½ éå¸¸æ¸…æ¥šä½ åœ¨ä¿® bugï¼Œå¦åˆ™åªç”¨ -Rs æˆ– -Rnsã€‚ â¬‡ï¸ 2. å®‰è£…ä¸ç³»ç»Ÿæ›´æ–° (Install \u0026 Update) ä¸»å‚æ•°: -S (Sync)\n2.1 æ ¸å¿ƒæ›´æ–°æµç¨‹ (æ¯æ—¥å¿…åš) # 1. æ ‡å‡†å…¨é‡æ›´æ–° (åŒæ­¥æ•°æ®åº“ + æ›´æ–°è½¯ä»¶) [æ¨è] sudo pacman -Syu # 2. å¼ºåˆ¶åˆ·æ–°æ•°æ®åº“ (ä»…åœ¨åˆ‡æ¢é•œåƒæºåä½¿ç”¨ï¼Œå¹³æ—¶åˆ«ç”¨ï¼Œä¼¤æœåŠ¡å™¨) sudo pacman -Syyu 2.2 è½¯ä»¶å®‰è£…æŠ€å·§ # 1. å®‰è£…å•ä¸ªæˆ–å¤šä¸ªè½¯ä»¶ sudo pacman -S vim git htop # 2. å®‰è£…åŒ…ç»„ (Package Group) # ä¾‹å¦‚å®‰è£… KDE å…¨å®¶æ¡¶ï¼Œå®ƒä¼šé—®ä½ å…·ä½“è¦é€‰å“ªäº›ï¼Œå›è½¦é»˜è®¤å…¨é€‰ sudo pacman -S plasma # 3. æ™ºèƒ½å®‰è£… (è„šæœ¬å¸¸ç”¨) # ä½œç”¨ï¼šå¦‚æœè½¯ä»¶å·²ç»æ˜¯æœ€æ–°ç‰ˆï¼Œè·³è¿‡ï¼›å¦‚æœæ²¡è£…æˆ–æœ‰æ›´æ–°ï¼Œæ‰æ‰§è¡Œã€‚ sudo pacman -S --needed base-devel git 2.3 é™çº§å®‰è£… (æ•‘å‘½ç”¨) å½“æ–°ç‰ˆæœ¬æœ‰ Bugï¼Œä½ æƒ³å›é€€åˆ°æ—§ç‰ˆæœ¬æ—¶ã€‚\n# æ–¹æ³• A: å®‰è£…æœ¬åœ°ç¼“å­˜ä¸­çš„æ—§åŒ… (è·¯å¾„é€šå¸¸åœ¨ /var/cache/pacman/pkg/) sudo pacman -U /var/cache/pacman/pkg/package-old-version.pkg.tar.zst # æ–¹æ³• B: å®‰è£…ç½‘ä¸Šä¸‹è½½çš„åŒ… (Arch Linux Archive) sudo pacman -U [https://archive.archlinux.org/packages/p/package/package.pkg.tar.zst](https://archive.archlinux.org/packages/p/package/package.pkg.tar.zst) ğŸ—‘ï¸ 3. å¸è½½ä¸æ¸…ç† (Remove) ä¸»å‚æ•°: -R (Remove)\n3.1 æ ‡å‡†å¸è½½æµç¨‹ è¯·å…»æˆä½¿ç”¨ -Rns çš„ä¹ æƒ¯ï¼Œä¿æŒç³»ç»Ÿæ´ç™–ã€‚\n# ğŸŸ¢ [æ¨è] åˆ é™¤è½¯ä»¶ + æ²¡ç”¨çš„ä¾èµ– + å…¨å±€é…ç½®æ–‡ä»¶ sudo pacman -Rns gimp # ğŸŸ¡ [æ™®é€š] åˆ é™¤è½¯ä»¶ + æ²¡ç”¨çš„ä¾èµ– (ä¿ç•™é…ç½®æ–‡ä»¶) sudo pacman -Rs gimp # ğŸ”´ [ä¸æ¨è] ä»…åˆ é™¤è½¯ä»¶æœ¬èº« (ä¾èµ–å’Œé…ç½®å…¨ç•™ç€ï¼Œåˆ¶é€ åƒåœ¾) sudo pacman -R gimp 3.2 å½»åº•æ¸…ç† (Spring Cleaning) Arch ä¸ä¼šè‡ªåŠ¨åˆ é™¤æ—§åŒ…ï¼Œç¼“å­˜ä¼šæ— é™è†¨èƒ€ã€‚\n# 1. æ¸…ç†â€œå­¤å„¿åŒ…â€ (æ›¾ç»ä½œä¸ºä¾èµ–è¢«å®‰è£…ï¼Œç°åœ¨æ²¡äººè¦äº†) # è§£é‡Šï¼špacman -Qtdq åˆ—å‡ºå­¤å„¿åï¼Œpacman -Rns åˆ é™¤å®ƒä»¬ sudo pacman -Rns $(pacman -Qtdq) # 2. æ¸…ç†ç¼“å­˜ (é‡Šæ”¾ç¡¬ç›˜ç©ºé—´) # åˆ é™¤æ‰€æœ‰æ—§ç‰ˆæœ¬çš„åŒ…ï¼Œåªä¿ç•™å½“å‰å®‰è£…çš„é‚£ä¸ªç‰ˆæœ¬ sudo pacman -Sc # 3. æ¸…ç©ºç¼“å­˜ (æç«¯æƒ…å†µ) # åˆ é™¤ç¼“å­˜æ–‡ä»¶å¤¹é‡Œçš„æ‰€æœ‰ä¸œè¥¿ (è­¦å‘Šï¼šåˆ äº†å°±æ²¡æ³•é™çº§äº†) sudo pacman -Scc ğŸ” 4. æŸ¥è¯¢ä¸æœç´¢ (Query) Pacman çš„æ•°æ®åº“åˆ†ä¸¤éƒ¨åˆ†ï¼šæœ¬åœ° (Local) å’Œ è¿œç¨‹ (Sync)ã€‚\n4.1 æŸ¥è¿œç¨‹ (æœè½¯ä»¶) # æœç´¢è½¯ä»¶ (æ”¯æŒæ¨¡ç³Šæœç´¢) pacman -Ss å…³é”®è¯ # ä¾‹: pacman -Ss browser # æŸ¥çœ‹è¿œç¨‹è½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯ (ä¾èµ–ã€å¤§å°ã€æ„å»ºæ—¥æœŸ) pacman -Si è½¯ä»¶å 4.2 æŸ¥æœ¬åœ° (å·²å®‰è£…) # æœç´¢å·²å®‰è£…çš„è½¯ä»¶ pacman -Qs å…³é”®è¯ # æŸ¥çœ‹å·²å®‰è£…è½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯ pacman -Qi è½¯ä»¶å # åˆ—å‡ºè½¯ä»¶çš„æ‰€æœ‰æ–‡ä»¶è·¯å¾„ (å®ƒåˆ°åº•è£…å“ªå»äº†ï¼Ÿ) pacman -Ql è½¯ä»¶å # ğŸ”¥ æ³•åŒ»é‰´å®š (Who owns this file?) # æŸ¥æŸä¸ªæ–‡ä»¶å±äºå“ªä¸ªè½¯ä»¶åŒ… (æ’é”™ç¥å™¨) pacman -Qo /usr/bin/vim # è¾“å‡º: /usr/bin/vim is owned by vim 9.0.xxxx 4.3 ä¾èµ–æ ‘åˆ†æ # æŸ¥çœ‹å®ƒä¾èµ–è° pactree è½¯ä»¶å # æŸ¥çœ‹è°ä¾èµ–å®ƒ (åå‘æŸ¥è¯¢ï¼Œå¸è½½å‰çœ‹çœ‹æœ‰æ²¡æœ‰é£é™©) pactree -r è½¯ä»¶å ğŸ› ï¸ 5. æ•…éšœæ’é™¤ (Troubleshooting) 5.1 æ•°æ®åº“é”å®š (Failed to init transaction) åœºæ™¯: æ›´æ–°ä¸­é€”æ–­ç”µæˆ–å¼ºåˆ¶å…³é—­ç»ˆç«¯ï¼Œå†æ¬¡è¿è¡Œæç¤º db.lck existsã€‚ è§£å†³: sudo rm /var/lib/pacman/db.lck 5.2 ç­¾åä¿¡ä»»é”™è¯¯ (PGP Signature unknown trust) åœºæ™¯: å¾ˆä¹…æ²¡æ›´æ–°ï¼Œæç¤ºç­¾åæ— æ•ˆæˆ–æŸåã€‚ åŸå› : Arch çš„å¯†é’¥ç¯ (Keyring) æ›´æ–°éå¸¸é¢‘ç¹ï¼Œä½ çš„æœ¬åœ°å¯†é’¥è¿‡æœŸäº†ã€‚ è§£å†³: # 1. å…ˆå•ç‹¬æ›´æ–°å¯†é’¥ç¯ sudo pacman -S archlinux-keyring # 2. å†æ›´æ–°ç³»ç»Ÿ sudo pacman -Syu 5.3 æ–‡ä»¶å†²çª (Exists in filesystem) åœºæ™¯: æç¤º /usr/bin/test exists in filesystemã€‚ åŸå› : è¿™ä¸ªæ–‡ä»¶æ˜¯ä½ æ‰‹åŠ¨å¤åˆ¶è¿›å»çš„ï¼Œä¸å±äº pacman æ•°æ®åº“ï¼Œpacman ä¸æ•¢è¦†ç›–ã€‚ è§£å†³: # å¼ºåˆ¶è¦†ç›–è¯¥æ–‡ä»¶ sudo pacman -Syu --overwrite /usr/bin/test # æˆ–è€…å¼ºåˆ¶è¦†ç›–æ‰€æœ‰å†²çª (æ…ç”¨) sudo pacman -Syu --overwrite \"*\" âš™ï¸ 6. æ€§èƒ½ä¼˜åŒ– (pacman.conf) å»ºè®®ç¼–è¾‘ /etc/pacman.conf å¼€å¯ä»¥ä¸‹ç°ä»£åŠŸèƒ½ã€‚\n# sudo vim /etc/pacman.conf [options] # ğŸŒˆ å¼€å¯å½©è‰²è¾“å‡º Color # ğŸ¬ å¼€å¯åƒè±†äººè¿›åº¦æ¡å½©è›‹ ILoveCandy # ğŸš€ å¼€å¯å¹¶è¡Œä¸‹è½½ (æ ¸å¿ƒä¼˜åŒ–ï¼) # é»˜è®¤æ˜¯å•çº¿ç¨‹ï¼Œæ”¹æˆ 5 åä¸‹è½½é€Ÿåº¦å¿« 5 å€ ParallelDownloads = 5 # ğŸš« å¿½ç•¥å‡çº§ (é”ç‰ˆæœ¬) # å¦‚æœä½ ä¸æƒ³æ›´æ–°å†…æ ¸æˆ–æ˜¾å¡é©±åŠ¨ï¼Œå¡«åœ¨è¿™é‡Œ IgnorePkg = linux linux-headers ğŸ†š é™„å½•ï¼šPacman vs Yay (AURåŠ©æ‰‹) åŠ¨ä½œ å®˜æ–¹å‘½ä»¤ (Pacman) AUR åŠ©æ‰‹ (Yay) åŒºåˆ« ç³»ç»Ÿæ›´æ–° sudo pacman -Syu yay Yay ä¼šåŒæ—¶æ£€æŸ¥ AUR æ›´æ–° å®‰è£…è½¯ä»¶ sudo pacman -S name yay -S name Yay èƒ½è£… AUR é‡Œçš„è½¯ä»¶ æœç´¢ pacman -Ss name yay -Ss name Yay åŒæ—¶æœå®˜æ–¹åº“+AUR æ¸…ç†å­¤å„¿ sudo pacman -Rns $(...) yay -Yc Yay å‘½ä»¤æ›´çŸ­ æ‰“å°ç»Ÿè®¡ æ—  yay -Ps æŸ¥çœ‹å®‰è£…æ•°é‡å’Œå ç”¨ç©ºé—´ ğŸ“ æç®€é€ŸæŸ¥è¡¨ (Cheat Sheet) æ›´æ–°ç³»ç»Ÿ: yay è£…è½¯ä»¶: sudo pacman -S xxx åˆ è½¯ä»¶: sudo pacman -Rns xxx æ¸…ç†åƒåœ¾: sudo pacman -Sc è¿™æ–‡ä»¶æ˜¯è°çš„?: pacman -Qo æ–‡ä»¶è·¯å¾„ ",
  "wordCount" : "520",
  "inLanguage": "en",
  "datePublished": "2026-01-15T11:57:29+08:00",
  "dateModified": "2026-01-15T11:57:29+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.luxrime.top/posts/pacman_qperations/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "RookieIO's Tech Lab",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.luxrime.top/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.luxrime.top/" accesskey="h" title="RookieIO&#39;s Tech Lab (Alt + H)">RookieIO&#39;s Tech Lab</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.luxrime.top/posts/" title="æ–‡ç« ">
                    <span>æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://blog.luxrime.top/search/" title="æœç´¢">
                    <span>æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      PacmanåŒ…ç®¡ç†
    </h1>
    <div class="post-meta"><span title='2026-01-15 11:57:29 +0800 CST'>January 15, 2026</span>&nbsp;Â·&nbsp;<span>3 min</span>

</div>
  </header> 
  <div class="post-content"><h1 id="-arch-linux-åŒ…ç®¡ç†å™¨-pacman-æƒå¨è¿ç»´æ‰‹å†Œ">ğŸ“¦ Arch Linux åŒ…ç®¡ç†å™¨ (Pacman) æƒå¨è¿ç»´æ‰‹å†Œ<a hidden class="anchor" aria-hidden="true" href="#-arch-linux-åŒ…ç®¡ç†å™¨-pacman-æƒå¨è¿ç»´æ‰‹å†Œ">#</a></h1>
<table>
  <thead>
      <tr>
          <th style="text-align: left">å±æ€§</th>
          <th style="text-align: left">è¯¦ç»†è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>æ ¸å¿ƒç¨‹åº</strong></td>
          <td style="text-align: left"><code>pacman</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>é…ç½®æ–‡ä»¶</strong></td>
          <td style="text-align: left"><code>/etc/pacman.conf</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>é•œåƒåˆ—è¡¨</strong></td>
          <td style="text-align: left"><code>/etc/pacman.d/mirrorlist</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>ç¼“å­˜è·¯å¾„</strong></td>
          <td style="text-align: left"><code>/var/cache/pacman/pkg/</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>æ–‡æ¡£ç‰ˆæœ¬</strong></td>
          <td style="text-align: left">v3.0 (è¿›é˜¶è¯¦ç»†ç‰ˆ)</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-1-å®‰å…¨çº¢çº¿-the-do-nots">ğŸ›‘ 1. å®‰å…¨çº¢çº¿ (The &ldquo;Do Nots&rdquo;)<a hidden class="anchor" aria-hidden="true" href="#-1-å®‰å…¨çº¢çº¿-the-do-nots">#</a></h2>
<p><strong>åœ¨æ“ä½œå‰ï¼Œè¯·åˆ»åœ¨è„‘å­é‡Œï¼Œå¦åˆ™ææ˜“å¯¼è‡´ç³»ç»Ÿå´©æºƒï¼ˆæ»šæŒ‚ï¼‰ã€‚</strong></p>
<h3 id="-ç¦å¿Œä¸€ç¦æ­¢éƒ¨åˆ†æ›´æ–°-partial-upgrades">âŒ ç¦å¿Œä¸€ï¼šç¦æ­¢éƒ¨åˆ†æ›´æ–° (Partial Upgrades)<a hidden class="anchor" aria-hidden="true" href="#-ç¦å¿Œä¸€ç¦æ­¢éƒ¨åˆ†æ›´æ–°-partial-upgrades">#</a></h3>
<ul>
<li><strong>é”™è¯¯æ“ä½œ</strong>: <code>pacman -Sy firefox</code> (åªåŒæ­¥æ•°æ®åº“ï¼Œç„¶ååªå®‰è£… Firefox)</li>
<li><strong>åæœ</strong>: ä½ çš„æ•°æ®åº“æ˜¯æœ€æ–°çš„ï¼Œä½†ç³»ç»Ÿé‡Œçš„æ ¸å¿ƒåº“ï¼ˆå¦‚ <code>glibc</code>ï¼‰æ˜¯æ—§çš„ã€‚æ–° Firefox è°ƒç”¨æ–°åº“æ—¶ï¼Œå› ä¸ºæ‰¾ä¸åˆ°è€Œå´©æºƒã€‚</li>
<li><strong>âœ… æ­£ç¡®åšæ³•</strong>: <strong>æ°¸è¿œåŒæ­¥å¹¶æ›´æ–°æ•´ä¸ªç³»ç»Ÿã€‚</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo pacman -Syu firefox
</span></span></code></pre></div><h3 id="-ç¦å¿ŒäºŒå¼ºåˆ¶å¿½ç•¥ä¾èµ–">âŒ ç¦å¿ŒäºŒï¼šå¼ºåˆ¶å¿½ç•¥ä¾èµ–<a hidden class="anchor" aria-hidden="true" href="#-ç¦å¿ŒäºŒå¼ºåˆ¶å¿½ç•¥ä¾èµ–">#</a></h3>
<ul>
<li><strong>é”™è¯¯æ“ä½œ</strong>: <code>pacman -Rdd è½¯ä»¶å</code></li>
<li><strong>åæœ</strong>: å¼ºè¡Œåˆ é™¤äº†è¢«å…¶ä»–è½¯ä»¶ä¾èµ–çš„åŒ…ï¼Œå¯¼è‡´å…¶ä»–è½¯ä»¶æ‰“ä¸å¼€ã€‚</li>
<li><strong>âœ… æ­£ç¡®åšæ³•</strong>: é™¤éä½ éå¸¸æ¸…æ¥šä½ åœ¨ä¿® bugï¼Œå¦åˆ™åªç”¨ <code>-Rs</code> æˆ– <code>-Rns</code>ã€‚</li>
</ul>
<hr>
<h2 id="-2-å®‰è£…ä¸ç³»ç»Ÿæ›´æ–°-install--update">â¬‡ï¸ 2. å®‰è£…ä¸ç³»ç»Ÿæ›´æ–° (Install &amp; Update)<a hidden class="anchor" aria-hidden="true" href="#-2-å®‰è£…ä¸ç³»ç»Ÿæ›´æ–°-install--update">#</a></h2>
<blockquote>
<p><strong>ä¸»å‚æ•°</strong>: <code>-S</code> (Sync)</p>
</blockquote>
<h3 id="21-æ ¸å¿ƒæ›´æ–°æµç¨‹-æ¯æ—¥å¿…åš">2.1 æ ¸å¿ƒæ›´æ–°æµç¨‹ (æ¯æ—¥å¿…åš)<a hidden class="anchor" aria-hidden="true" href="#21-æ ¸å¿ƒæ›´æ–°æµç¨‹-æ¯æ—¥å¿…åš">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1. æ ‡å‡†å…¨é‡æ›´æ–° (åŒæ­¥æ•°æ®åº“ + æ›´æ–°è½¯ä»¶) [æ¨è]</span>
</span></span><span class="line"><span class="cl">sudo pacman -Syu
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2. å¼ºåˆ¶åˆ·æ–°æ•°æ®åº“ (ä»…åœ¨åˆ‡æ¢é•œåƒæºåä½¿ç”¨ï¼Œå¹³æ—¶åˆ«ç”¨ï¼Œä¼¤æœåŠ¡å™¨)</span>
</span></span><span class="line"><span class="cl">sudo pacman -Syyu
</span></span></code></pre></div><h3 id="22-è½¯ä»¶å®‰è£…æŠ€å·§">2.2 è½¯ä»¶å®‰è£…æŠ€å·§<a hidden class="anchor" aria-hidden="true" href="#22-è½¯ä»¶å®‰è£…æŠ€å·§">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1. å®‰è£…å•ä¸ªæˆ–å¤šä¸ªè½¯ä»¶</span>
</span></span><span class="line"><span class="cl">sudo pacman -S vim git htop
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2. å®‰è£…åŒ…ç»„ (Package Group)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ä¾‹å¦‚å®‰è£… KDE å…¨å®¶æ¡¶ï¼Œå®ƒä¼šé—®ä½ å…·ä½“è¦é€‰å“ªäº›ï¼Œå›è½¦é»˜è®¤å…¨é€‰</span>
</span></span><span class="line"><span class="cl">sudo pacman -S plasma
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 3. æ™ºèƒ½å®‰è£… (è„šæœ¬å¸¸ç”¨)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ä½œç”¨ï¼šå¦‚æœè½¯ä»¶å·²ç»æ˜¯æœ€æ–°ç‰ˆï¼Œè·³è¿‡ï¼›å¦‚æœæ²¡è£…æˆ–æœ‰æ›´æ–°ï¼Œæ‰æ‰§è¡Œã€‚</span>
</span></span><span class="line"><span class="cl">sudo pacman -S --needed base-devel git
</span></span></code></pre></div><h3 id="23-é™çº§å®‰è£…-æ•‘å‘½ç”¨">2.3 é™çº§å®‰è£… (æ•‘å‘½ç”¨)<a hidden class="anchor" aria-hidden="true" href="#23-é™çº§å®‰è£…-æ•‘å‘½ç”¨">#</a></h3>
<p>å½“æ–°ç‰ˆæœ¬æœ‰ Bugï¼Œä½ æƒ³å›é€€åˆ°æ—§ç‰ˆæœ¬æ—¶ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æ–¹æ³• A: å®‰è£…æœ¬åœ°ç¼“å­˜ä¸­çš„æ—§åŒ… (è·¯å¾„é€šå¸¸åœ¨ /var/cache/pacman/pkg/)</span>
</span></span><span class="line"><span class="cl">sudo pacman -U /var/cache/pacman/pkg/package-old-version.pkg.tar.zst
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ–¹æ³• B: å®‰è£…ç½‘ä¸Šä¸‹è½½çš„åŒ… (Arch Linux Archive)</span>
</span></span><span class="line"><span class="cl">sudo pacman -U <span class="o">[</span>https://archive.archlinux.org/packages/p/package/package.pkg.tar.zst<span class="o">](</span>https://archive.archlinux.org/packages/p/package/package.pkg.tar.zst<span class="o">)</span>
</span></span></code></pre></div><hr>
<h2 id="-3-å¸è½½ä¸æ¸…ç†-remove">ğŸ—‘ï¸ 3. å¸è½½ä¸æ¸…ç† (Remove)<a hidden class="anchor" aria-hidden="true" href="#-3-å¸è½½ä¸æ¸…ç†-remove">#</a></h2>
<blockquote>
<p><strong>ä¸»å‚æ•°</strong>: <code>-R</code> (Remove)</p>
</blockquote>
<h3 id="31-æ ‡å‡†å¸è½½æµç¨‹">3.1 æ ‡å‡†å¸è½½æµç¨‹<a hidden class="anchor" aria-hidden="true" href="#31-æ ‡å‡†å¸è½½æµç¨‹">#</a></h3>
<p><strong>è¯·å…»æˆä½¿ç”¨ <code>-Rns</code> çš„ä¹ æƒ¯ï¼Œä¿æŒç³»ç»Ÿæ´ç™–ã€‚</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ğŸŸ¢ [æ¨è] åˆ é™¤è½¯ä»¶ + æ²¡ç”¨çš„ä¾èµ– + å…¨å±€é…ç½®æ–‡ä»¶</span>
</span></span><span class="line"><span class="cl">sudo pacman -Rns gimp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ğŸŸ¡ [æ™®é€š] åˆ é™¤è½¯ä»¶ + æ²¡ç”¨çš„ä¾èµ– (ä¿ç•™é…ç½®æ–‡ä»¶)</span>
</span></span><span class="line"><span class="cl">sudo pacman -Rs gimp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ğŸ”´ [ä¸æ¨è] ä»…åˆ é™¤è½¯ä»¶æœ¬èº« (ä¾èµ–å’Œé…ç½®å…¨ç•™ç€ï¼Œåˆ¶é€ åƒåœ¾)</span>
</span></span><span class="line"><span class="cl">sudo pacman -R gimp
</span></span></code></pre></div><h3 id="32-å½»åº•æ¸…ç†-spring-cleaning">3.2 å½»åº•æ¸…ç† (Spring Cleaning)<a hidden class="anchor" aria-hidden="true" href="#32-å½»åº•æ¸…ç†-spring-cleaning">#</a></h3>
<p>Arch ä¸ä¼šè‡ªåŠ¨åˆ é™¤æ—§åŒ…ï¼Œç¼“å­˜ä¼šæ— é™è†¨èƒ€ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1. æ¸…ç†â€œå­¤å„¿åŒ…â€ (æ›¾ç»ä½œä¸ºä¾èµ–è¢«å®‰è£…ï¼Œç°åœ¨æ²¡äººè¦äº†)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># è§£é‡Šï¼špacman -Qtdq åˆ—å‡ºå­¤å„¿åï¼Œpacman -Rns åˆ é™¤å®ƒä»¬</span>
</span></span><span class="line"><span class="cl">sudo pacman -Rns <span class="k">$(</span>pacman -Qtdq<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2. æ¸…ç†ç¼“å­˜ (é‡Šæ”¾ç¡¬ç›˜ç©ºé—´)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># åˆ é™¤æ‰€æœ‰æ—§ç‰ˆæœ¬çš„åŒ…ï¼Œåªä¿ç•™å½“å‰å®‰è£…çš„é‚£ä¸ªç‰ˆæœ¬</span>
</span></span><span class="line"><span class="cl">sudo pacman -Sc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 3. æ¸…ç©ºç¼“å­˜ (æç«¯æƒ…å†µ)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># åˆ é™¤ç¼“å­˜æ–‡ä»¶å¤¹é‡Œçš„æ‰€æœ‰ä¸œè¥¿ (è­¦å‘Šï¼šåˆ äº†å°±æ²¡æ³•é™çº§äº†)</span>
</span></span><span class="line"><span class="cl">sudo pacman -Scc
</span></span></code></pre></div><hr>
<h2 id="-4-æŸ¥è¯¢ä¸æœç´¢-query">ğŸ” 4. æŸ¥è¯¢ä¸æœç´¢ (Query)<a hidden class="anchor" aria-hidden="true" href="#-4-æŸ¥è¯¢ä¸æœç´¢-query">#</a></h2>
<p>Pacman çš„æ•°æ®åº“åˆ†ä¸¤éƒ¨åˆ†ï¼š<strong>æœ¬åœ° (Local)</strong> å’Œ <strong>è¿œç¨‹ (Sync)</strong>ã€‚</p>
<h3 id="41-æŸ¥è¿œç¨‹-æœè½¯ä»¶">4.1 æŸ¥è¿œç¨‹ (æœè½¯ä»¶)<a hidden class="anchor" aria-hidden="true" href="#41-æŸ¥è¿œç¨‹-æœè½¯ä»¶">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æœç´¢è½¯ä»¶ (æ”¯æŒæ¨¡ç³Šæœç´¢)</span>
</span></span><span class="line"><span class="cl">pacman -Ss å…³é”®è¯  
</span></span><span class="line"><span class="cl"><span class="c1"># ä¾‹: pacman -Ss browser</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æŸ¥çœ‹è¿œç¨‹è½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯ (ä¾èµ–ã€å¤§å°ã€æ„å»ºæ—¥æœŸ)</span>
</span></span><span class="line"><span class="cl">pacman -Si è½¯ä»¶å
</span></span></code></pre></div><h3 id="42-æŸ¥æœ¬åœ°-å·²å®‰è£…">4.2 æŸ¥æœ¬åœ° (å·²å®‰è£…)<a hidden class="anchor" aria-hidden="true" href="#42-æŸ¥æœ¬åœ°-å·²å®‰è£…">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æœç´¢å·²å®‰è£…çš„è½¯ä»¶</span>
</span></span><span class="line"><span class="cl">pacman -Qs å…³é”®è¯
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æŸ¥çœ‹å·²å®‰è£…è½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">pacman -Qi è½¯ä»¶å
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># åˆ—å‡ºè½¯ä»¶çš„æ‰€æœ‰æ–‡ä»¶è·¯å¾„ (å®ƒåˆ°åº•è£…å“ªå»äº†ï¼Ÿ)</span>
</span></span><span class="line"><span class="cl">pacman -Ql è½¯ä»¶å
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ğŸ”¥ æ³•åŒ»é‰´å®š (Who owns this file?)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æŸ¥æŸä¸ªæ–‡ä»¶å±äºå“ªä¸ªè½¯ä»¶åŒ… (æ’é”™ç¥å™¨)</span>
</span></span><span class="line"><span class="cl">pacman -Qo /usr/bin/vim
</span></span><span class="line"><span class="cl"><span class="c1"># è¾“å‡º: /usr/bin/vim is owned by vim 9.0.xxxx</span>
</span></span></code></pre></div><h3 id="43-ä¾èµ–æ ‘åˆ†æ">4.3 ä¾èµ–æ ‘åˆ†æ<a hidden class="anchor" aria-hidden="true" href="#43-ä¾èµ–æ ‘åˆ†æ">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æŸ¥çœ‹å®ƒä¾èµ–è°</span>
</span></span><span class="line"><span class="cl">pactree è½¯ä»¶å
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æŸ¥çœ‹è°ä¾èµ–å®ƒ (åå‘æŸ¥è¯¢ï¼Œå¸è½½å‰çœ‹çœ‹æœ‰æ²¡æœ‰é£é™©)</span>
</span></span><span class="line"><span class="cl">pactree -r è½¯ä»¶å
</span></span></code></pre></div><hr>
<h2 id="-5-æ•…éšœæ’é™¤-troubleshooting">ğŸ› ï¸ 5. æ•…éšœæ’é™¤ (Troubleshooting)<a hidden class="anchor" aria-hidden="true" href="#-5-æ•…éšœæ’é™¤-troubleshooting">#</a></h2>
<h3 id="51-æ•°æ®åº“é”å®š-failed-to-init-transaction">5.1 æ•°æ®åº“é”å®š (Failed to init transaction)<a hidden class="anchor" aria-hidden="true" href="#51-æ•°æ®åº“é”å®š-failed-to-init-transaction">#</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>: æ›´æ–°ä¸­é€”æ–­ç”µæˆ–å¼ºåˆ¶å…³é—­ç»ˆç«¯ï¼Œå†æ¬¡è¿è¡Œæç¤º <code>db.lck exists</code>ã€‚</li>
<li><strong>è§£å†³</strong>:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo rm /var/lib/pacman/db.lck
</span></span></code></pre></div></li>
</ul>
<h3 id="52-ç­¾åä¿¡ä»»é”™è¯¯-pgp-signature-unknown-trust">5.2 ç­¾åä¿¡ä»»é”™è¯¯ (PGP Signature unknown trust)<a hidden class="anchor" aria-hidden="true" href="#52-ç­¾åä¿¡ä»»é”™è¯¯-pgp-signature-unknown-trust">#</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>: å¾ˆä¹…æ²¡æ›´æ–°ï¼Œæç¤ºç­¾åæ— æ•ˆæˆ–æŸåã€‚</li>
<li><strong>åŸå› </strong>: Arch çš„å¯†é’¥ç¯ (Keyring) æ›´æ–°éå¸¸é¢‘ç¹ï¼Œä½ çš„æœ¬åœ°å¯†é’¥è¿‡æœŸäº†ã€‚</li>
<li><strong>è§£å†³</strong>:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1. å…ˆå•ç‹¬æ›´æ–°å¯†é’¥ç¯</span>
</span></span><span class="line"><span class="cl">sudo pacman -S archlinux-keyring
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2. å†æ›´æ–°ç³»ç»Ÿ</span>
</span></span><span class="line"><span class="cl">sudo pacman -Syu
</span></span></code></pre></div></li>
</ul>
<h3 id="53-æ–‡ä»¶å†²çª-exists-in-filesystem">5.3 æ–‡ä»¶å†²çª (Exists in filesystem)<a hidden class="anchor" aria-hidden="true" href="#53-æ–‡ä»¶å†²çª-exists-in-filesystem">#</a></h3>
<ul>
<li><strong>åœºæ™¯</strong>: æç¤º <code>/usr/bin/test exists in filesystem</code>ã€‚</li>
<li><strong>åŸå› </strong>: è¿™ä¸ªæ–‡ä»¶æ˜¯ä½ æ‰‹åŠ¨å¤åˆ¶è¿›å»çš„ï¼Œä¸å±äº pacman æ•°æ®åº“ï¼Œpacman ä¸æ•¢è¦†ç›–ã€‚</li>
<li><strong>è§£å†³</strong>:
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># å¼ºåˆ¶è¦†ç›–è¯¥æ–‡ä»¶</span>
</span></span><span class="line"><span class="cl">sudo pacman -Syu --overwrite /usr/bin/test
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æˆ–è€…å¼ºåˆ¶è¦†ç›–æ‰€æœ‰å†²çª (æ…ç”¨)</span>
</span></span><span class="line"><span class="cl">sudo pacman -Syu --overwrite <span class="s2">&#34;*&#34;</span>
</span></span></code></pre></div></li>
</ul>
<hr>
<h2 id="-6-æ€§èƒ½ä¼˜åŒ–-pacmanconf">âš™ï¸ 6. æ€§èƒ½ä¼˜åŒ– (pacman.conf)<a hidden class="anchor" aria-hidden="true" href="#-6-æ€§èƒ½ä¼˜åŒ–-pacmanconf">#</a></h2>
<p>å»ºè®®ç¼–è¾‘ <code>/etc/pacman.conf</code> å¼€å¯ä»¥ä¸‹ç°ä»£åŠŸèƒ½ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># sudo vim /etc/pacman.conf</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[options]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ğŸŒˆ å¼€å¯å½©è‰²è¾“å‡º</span>
</span></span><span class="line"><span class="cl"><span class="na">Color</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ğŸ¬ å¼€å¯åƒè±†äººè¿›åº¦æ¡å½©è›‹</span>
</span></span><span class="line"><span class="cl"><span class="na">ILoveCandy</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ğŸš€ å¼€å¯å¹¶è¡Œä¸‹è½½ (æ ¸å¿ƒä¼˜åŒ–ï¼)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># é»˜è®¤æ˜¯å•çº¿ç¨‹ï¼Œæ”¹æˆ 5 åä¸‹è½½é€Ÿåº¦å¿« 5 å€</span>
</span></span><span class="line"><span class="cl"><span class="na">ParallelDownloads</span> <span class="o">=</span> <span class="s">5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ğŸš« å¿½ç•¥å‡çº§ (é”ç‰ˆæœ¬)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># å¦‚æœä½ ä¸æƒ³æ›´æ–°å†…æ ¸æˆ–æ˜¾å¡é©±åŠ¨ï¼Œå¡«åœ¨è¿™é‡Œ</span>
</span></span><span class="line"><span class="cl"><span class="na">IgnorePkg</span> <span class="o">=</span> <span class="s">linux linux-headers</span>
</span></span></code></pre></div><hr>
<h2 id="-é™„å½•pacman-vs-yay-auråŠ©æ‰‹">ğŸ†š é™„å½•ï¼šPacman vs Yay (AURåŠ©æ‰‹)<a hidden class="anchor" aria-hidden="true" href="#-é™„å½•pacman-vs-yay-auråŠ©æ‰‹">#</a></h2>
<table>
  <thead>
      <tr>
          <th style="text-align: left">åŠ¨ä½œ</th>
          <th style="text-align: left">å®˜æ–¹å‘½ä»¤ (Pacman)</th>
          <th style="text-align: left">AUR åŠ©æ‰‹ (Yay)</th>
          <th style="text-align: left">åŒºåˆ«</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>ç³»ç»Ÿæ›´æ–°</strong></td>
          <td style="text-align: left"><code>sudo pacman -Syu</code></td>
          <td style="text-align: left"><code>yay</code></td>
          <td style="text-align: left">Yay ä¼šåŒæ—¶æ£€æŸ¥ AUR æ›´æ–°</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>å®‰è£…è½¯ä»¶</strong></td>
          <td style="text-align: left"><code>sudo pacman -S name</code></td>
          <td style="text-align: left"><code>yay -S name</code></td>
          <td style="text-align: left">Yay èƒ½è£… AUR é‡Œçš„è½¯ä»¶</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>æœç´¢</strong></td>
          <td style="text-align: left"><code>pacman -Ss name</code></td>
          <td style="text-align: left"><code>yay -Ss name</code></td>
          <td style="text-align: left">Yay åŒæ—¶æœå®˜æ–¹åº“+AUR</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>æ¸…ç†å­¤å„¿</strong></td>
          <td style="text-align: left"><code>sudo pacman -Rns $(...)</code></td>
          <td style="text-align: left"><code>yay -Yc</code></td>
          <td style="text-align: left">Yay å‘½ä»¤æ›´çŸ­</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>æ‰“å°ç»Ÿè®¡</strong></td>
          <td style="text-align: left">æ— </td>
          <td style="text-align: left"><code>yay -Ps</code></td>
          <td style="text-align: left">æŸ¥çœ‹å®‰è£…æ•°é‡å’Œå ç”¨ç©ºé—´</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-æç®€é€ŸæŸ¥è¡¨-cheat-sheet">ğŸ“ æç®€é€ŸæŸ¥è¡¨ (Cheat Sheet)<a hidden class="anchor" aria-hidden="true" href="#-æç®€é€ŸæŸ¥è¡¨-cheat-sheet">#</a></h2>
<ul>
<li><strong>æ›´æ–°ç³»ç»Ÿ</strong>: <code>yay</code></li>
<li><strong>è£…è½¯ä»¶</strong>: <code>sudo pacman -S xxx</code></li>
<li><strong>åˆ è½¯ä»¶</strong>: <code>sudo pacman -Rns xxx</code></li>
<li><strong>æ¸…ç†åƒåœ¾</strong>: <code>sudo pacman -Sc</code></li>
<li><strong>è¿™æ–‡ä»¶æ˜¯è°çš„?</strong>: <code>pacman -Qo æ–‡ä»¶è·¯å¾„</code></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="next" href="https://blog.luxrime.top/posts/test-deploy/">
    <span class="title">Next Â»</span>
    <br>
    <span>Firewalld é…ç½®æŒ‡å—</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://blog.luxrime.top/">RookieIO&#39;s Tech Lab</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
